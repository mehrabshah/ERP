<app-top-bar [toBarTitle]="toBarTitle" [showtopNav]="showtopNav" [listNav]="topBarList"></app-top-bar>
<section class="main-wrapper">
    <div class="container-fluid mb-3">
        <div class="d-flex     flex-md-row flex-column mb-2">
            <button class="header-btn me-md-5 mt-2 mt-md-0" [ngClass]="{ 'active-button': activeButton === 'cashFlow' }"
                (click)="setActiveButton('cashFlow')">Cash Flow Setup</button>

            <button class="header-btn me-md-5 mt-2 mt-md-0"
                [ngClass]="{ 'active-button': activeButton === 'incomeStatement' }"
                (click)="setActiveButton('incomeStatement')">Income Statement Setup</button>

            <button class="header-btn mt-2 mt-md-0 mb-md-0 mb-2"
                [ngClass]="{ 'active-button': activeButton === 'accountSetting' }"
                (click)="setActiveButton('accountSetting')">Account Setting</button>
        </div>

        <ng-container *ngIf="activeButton === 'cashFlow'">
            <div ngbAccordion>
                <div ngbAccordionItem [collapsed]="isCollapsed" class="mb-3">
                   
                    <h2 ngbAccordionHeader>

                        <button ngbAccordionButton (click)="isCollapsed = !isCollapsed">
                            <h4 class="account-title ">Cash Flow Setup</h4>
                        </button>
                    </h2>
                    <div ngbAccordionCollapse *ngIf="!isCollapsed" class="p-4 pt-0">
                        <div>
                            <!-- First multi-select field -->
                            <div class="mb-2">
                                <app-multi-select-field [multiNetIncomeList]="multiNetIncomeList"
                                    (selectedItemsChange)="updateSelectedItems($event)">
                                </app-multi-select-field>
                            </div>

                            <!-- Second multi-select field -->
                            <div>
                                <app-multi-select-field [multiNetIncomeList]="multiNetReceiveList"
                                    (selectedItemsChange)="updateSelectedItems($event)">
                                </app-multi-select-field>
                            </div>
                        </div>
                    </div>
                </div>

                <div ngbAccordionItem [collapsed]="isCollapsed1" class="mb-3">
                    <h2 ngbAccordionHeader>
                       
                        <button ngbAccordionButton (click)="isCollapsed1 = !isCollapsed1">
                            <h4 class="account-title ">Cash Flow Setup</h4>
                        </button>
                    </h2>
                    <div ngbAccordionCollapse *ngIf="!isCollapsed1" class="p-4 pt-0">
                        
                        <div>
                            <div class="mb-2">
                                <app-multi-select-field [multiNetIncomeList]="multiNetRawMaterialList"
                                    (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                            </div>
                            <div class="mb-2">
                                <app-multi-select-field [multiNetIncomeList]="multiNetWorkInventoryList"
                                    (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                            </div>
                            <div>
                                <app-multi-select-field [multiNetIncomeList]="multiNetGoodsInventoryList"
                                    (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                            </div>
                        </div>
                    </div>
                </div>

                <div ngbAccordionItem [collapsed]="isCollapsed2" class="mb-3">
                    <h2 ngbAccordionHeader>
                        <button ngbAccordionButton (click)="isCollapsed2 = !isCollapsed2">
                            <h4 class="account-title">Cash Flow Setup</h4>
                        </button>
                    </h2>
                    <div ngbAccordionCollapse *ngIf="!isCollapsed2" class="p-4 pt-0">
                        <div>
                            <app-multi-select-field [multiNetIncomeList]="multiNetCustomerDepositList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                        </div>
                    </div>
                </div>

                <div ngbAccordionItem [collapsed]="isCollapsed3" class="mb-3">
                    <h2 ngbAccordionHeader>
                        <button ngbAccordionButton (click)="isCollapsed3 = !isCollapsed3">
                            <h4 class="account-title">Cash Flow Setup</h4>
                        </button>
                    </h2>
                    <div ngbAccordionCollapse *ngIf="!isCollapsed3" class="p-4 pt-0">
                        <div class="mb-2">
                            <app-multi-select-field [multiNetIncomeList]="multiNetDepricationList"
                                (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                        </div>
                        <div class="mb-2">
                            <app-multi-select-field [multiNetIncomeList]="multiNetPreExtensionList"
                                (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                        </div>
                        <div class="mb-2">
                            <app-multi-select-field [multiNetIncomeList]="multiNetPayablesList"
                                (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                        </div>
                        <div class="mb-2">
                            <app-multi-select-field [multiNetIncomeList]="multiNetAccurExpensesList"
                                (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                        </div>
                        <div>
                            <app-multi-select-field [multiNetIncomeList]="multiNetLoansList"
                                (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                        </div>
                    </div>
                </div>
                <div class="save-btn mt-2 text-center d-flex justify-content-end">
                    <button class="submit-btn">Save</button>
                </div>
            </div>




            <!-- <div class="card p-4">
                <div class="d-flex align-items-center justify-content-between mb-3">
                    <img src="assets/images/leftCircle.svg" class="img-fluid" style="cursor: pointer" />
                    <i class="fa-solid fa-angle-down arrow-icon"></i>
                </div>
                <h4 class="account-title mb-4">Cash Flow Setup</h4>
                <div class="card-body p-0">
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetIncomeList"
                            (selectedItemsChange)="updateSelectedItems($event)">
                        </app-multi-select-field>
                    </div>

                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetReceiveList"
                            (selectedItemsChange)="updateSelectedItems($event)">
                        </app-multi-select-field>
                    </div>

                </div>
            </div> -->


            <!-- <div class="card mt-2 p-4">
                <div class="d-flex align-items-center justify-content-end mb-3">
                    <i class="fa-solid fa-angle-down arrow-icon"></i>
                </div>
                <h4 class="account-title mb-4">Cash Flow Setup</h4>
                <div class="card-body p-0">
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetRawMaterialList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                    </div>
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetWorkInventoryList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                    </div>
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetGoodsInventoryList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                    </div>
                </div>
            </div> -->


            <!-- <div class="card mt-2 p-4">
                <div class="d-flex align-items-center justify-content-end mb-3">
                    <i class="fa-solid fa-angle-down arrow-icon"></i>
                </div>
                <h4 class="account-title mb-4">Cash Flow Setup</h4>
                <div class="card-body p-0">
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetCustomerDepositList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                    </div>
                </div>
            </div> -->

            <!-- <div class="card mt-2 p-4">
                <div class="d-flex align-items-center justify-content-end mb-3">
                    <i class="fa-solid fa-angle-down arrow-icon"></i>
                </div>
                <h4 class="account-title mb-4">Cash Flow Setup</h4>
                <div class="card-body p-0">
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetDepricationList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                    </div>
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetPreExtensionList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                    </div>
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetPayablesList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                    </div>
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetAccurExpensesList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                    </div>
                    <div>
                        <app-multi-select-field [multiNetIncomeList]="multiNetLoansList"
                            (selectedItemsChange)="updateSelectedItems($event)"></app-multi-select-field>
                    </div>
                </div>
                <div class="save-btn text-center m-4">
                    <button class="submit-btn">Save</button>
                </div>
            </div> -->
        </ng-container>
    </div>
</section>